<p>Quais serão as rotas (urls) da aplicação?</p>
<details>
  <summary>Explicação</summary>
  <p>Aqui serão definidas as rotas (urls) para cada domínio.</p>
  <p>Ex.: Em um sistema ERP</p>
  <ul>
    <li>Cliente [/clientes]
      <ul>
        <li>Listar clientes [/clientes/]</li>
        <li>Criar novo cliente [/clientes/novo]</li>
        <li>Alterar dados de um cliente [/clientes/:id]</li>
      </ul>
    </li>
    <li>Estoque [/estoque]
      <ul>
        <li>Listar estoque [/estoque/]</li>
        <li>Registrar compra [/estoque/adicionar]</li>
      </ul>
    </li>
    <li>Venda [/vendas]
      <ul>
        <li>Registrar venda [/vendas/]</li>
      </ul>
    </li>
    <li>Emissão de notas [/notas]
      <ul>
        <li>Emitir nota [/notas/emitir]</li>
        <li>Consultar notas emitidas [/notas/]</li>
      </ul>
    </li>
  </ul>
</details>

<fieldset>
  <legend>Funcionalidades dos domínios lógicos definidos</legend>
  <ul>
    <li *ngFor="let itemDominio of estruturaAplicacaoService.dominiosLogicos">
      {{itemDominio.nome}} ({{itemDominio.descricao}})
      <label for="rotaDominio">Rota do domínio:</label>
      <input type="text" id="rotaDominio" [(ngModel)]="itemDominio.rota" name="rotaDominio">
      <ul>
        <li *ngFor="let itemFuncionalidade of itemDominio.funcionalidades">
          {{itemFuncionalidade.nome}} ({{itemFuncionalidade.descricao}})
          <label for="rotaFuncionalidade">Rota da funcionalidade:</label> [{{itemDominio.rota}}/
          <input type="text" id="rotaFuncionalidade" [(ngModel)]="itemFuncionalidade.rota" name="rotaFuncionalidade">]
        </li>
      </ul>
    </li>
  </ul>
</fieldset>


<button (click)="proximoPasso()">Gerar script e json</button>
<a *ngIf="jsonUrl" class="btn btn-clear" [href]="jsonUrl" title="Download JSON" download="NGArchitectConfig.json">Download JSON</a>
<br>
<ng-container *ngIf="comandos.length">
    <h3>Bash:</h3>
    <div class="commandBash">
        <ng-container *ngFor="let comando of comandos">{{comando}}<br></ng-container>
    </div>

  <h3>Arquivo [app-routing.module.ts]:</h3>
  <div class="tsFile">
      import {{ '{' }} NgModule } from '@angular/core';<br>
      import {{ '{' }} Routes, RouterModule } from '@angular/router';<br>
      <br>
      const routes: Routes = [<br>
      <ng-container *ngFor="let rota of rotas">{{rota}},<br></ng-container>
      ];<br>    
      @NgModule({{ '{' }}<br>
        imports: [RouterModule.forRoot(routes)],<br>
        exports: [RouterModule]<br>
      })<br>
      export class AppRoutingModule {{ '{' }} }<br>
      <br>
  </div>

    <ng-container *ngFor="let rota of subRotas">
      <h3>Arquivo [{{rota.arquivo}}]:</h3>
      <div class="tsFile">
          import {{ '{' }} NgModule } from '@angular/core';<br>
          import {{ '{' }} Routes, RouterModule } from '@angular/router';<br>

          <ng-container *ngFor="let import of rota.imports">{{import}}<br></ng-container>
          <br>
          const routes: Routes = [<br>
          <ng-container *ngFor="let subRota of rota.subRotas">{{subRota}},<br></ng-container>
          ];<br>
          <br>
          @NgModule({{ '{' }}<br>
            imports: [RouterModule.forChild(routes)],<br>
            exports: [RouterModule]<br>
          })<br>
          export class {{rota.nome}}RoutingModule {{ '{' }} }<br>
          
        </div>
    </ng-container>
</ng-container>